@model List<trabajopalacasa.Models.ViewModels.SoliViewModels>
@{
    ViewBag.Title = "ListaSolicitud";
}



<div class="container" >
    <br />
    <h2>Solicitudes</h2>
    <div>
        <p class="small text-muted">Actualmente esta viendo la lista de solicitudes!</p>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <table class="table table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th>#</th>
                        <th>Titulo</th>
                        <th>Tipo Solicitud</th>
                        <th>Estado</th>
                        <th>Remitente</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>

                    @foreach (var oElemento in Model)
                    {
                        <tr>
                            <td>@oElemento.Id</td>
                            <td>@oElemento.Titulo</td>
                            <td>@oElemento.Tipo_solicitud</td>
                            <td>@oElemento.Estado</td>
                            <td>@oElemento.Remitente</td>
                            <td>
                                <input type="button" onclick="document.location.href='@Url.Content("~/Home/EditarSoli/"+oElemento.Id)'" value="Editar" class="btn btn-default" />
                                <input type="button" onclick="document.location.href='@Url.Content("~/Home/MostrarSoli/"+oElemento.Id)'" value="Ver" class="btn btn-default" />
                                @*<input type="button" onclick="jsBorrar(@oElemento.Id);" value="Borrar" class="btn btn-danger" />*@
                                <input type="button" onclick="jsBorrar2(@oElemento.Id);" value="Rechazar" class="btn btn-danger" />
                            </td>

                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    function jsBorrar(Id) {
        if (confirm("Estas seguro de eliminar esta solicitud?")) {
            url = "@Url.Content("~/Home/Borrar")" + "/" +Id;

            $.post(url, function (data) {

                if (data == "1") {
                    document.location.href = "@Url.Content("~/Home/")"
                } else {
                    alert ("Ocurrio un error")
                }

            })
        }
    }
        function jsBorrar2(Id) {
        if (confirm("Estas seguro de rechazar esta solicitud?")) {
            url = "@Url.Content("~/Home/Borrar2")" + "/" +Id;

            $.post(url, function (data) {

                if (data == "1") {
                    document.location.href = "@Url.Content("~/Home/")"
                } else {
                    alert ("Ocurrio un error")
                }

            })
        }
    }
</script>
